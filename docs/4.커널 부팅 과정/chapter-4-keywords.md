# chapter-4-keywords

## 📌 시리얼 포트 (Serial Port)

✅ 용어

- 시리얼 포트 : 컴퓨터와 외부 장치간 데이터를 한 비트씩 순차로 송수신하는 인터페이스

✅ **개념**

- 운영체제나 커널 개발 초기에는 화면 출력 장치가 없기 때문에, 시리얼 포트를 통해 메시지를 입출력
- QEMU `virt` 머신에서도 이 방법을 따라 시리얼 포트를 통해 커널 로그나 콘솔 인터페이스를 전달

## 📌 `.bss`를 0으로 초기화하지 않으면 발생할 수 있는 문제

✅ bss 섹션이란

- 초기화되지 않은 전역 변수와 정적 변수가 저장되는 영역
- ex. `static int count;` 등의 변수는 bss에 저장됨
- 일반적으로 모두 0으로 초기화된다고 가정하고 코드가 작성됨

⚠️ bss가 0으로 초기화 되지 않는다면

1. 의도하지 않은 쓰레기 값을 가질 수 있음

2. 논리 오류 발생

- `memset()` 등에서 기본값이 0을 가정하고 동작하는 코드가 많음

3. 보안 문제

- 쓰레기 값이 이전에 사용되던 민감한 데이터일 수 있음

4. 디버깅이 어려움

## 📌 `-target=riscv32-unknown-elf`

👉`-target`

- 어떤 시스템용으로 컴파일할지 정하는 옵션

`👉 riscv32`

- 32비트 RISC-V 아키텍처

👉 `unknown-elf`

- 표준 OS 없이 elf 파일의 커널이 실행될 것을 의미

✅ 옵션이 필요한 이유

- 지금 만드는 OS는 RISC-V HW 에서 동작하는 독립 실행형 커널
- 이 옵션이 없다면 기본적으로 현재 PC의 ISA에 맞는 코드가 생성돼서 QEMU에서 실행이 안됨

## 📌 `ffreestanding`

👉 `freestanding`

- “독립 실행 환경”을 의미
- 컴파일러가 표준 C 환경이 아니라고 간주함

✅ 옵션이 필요한 이유

- 컴파일러가 표준 라이브러리를 전제로 잘못 동작할 수 있음

## 📌 `nostdlib`

👉 `stdlib` : 표준 라이브러리

- ex. `libc`, `crt0.o`, `libm`, `libgcc` 등

👉 `nostdlib`

- 링킹할 때 표준 라이브러리를 완전히 빼라는 의미

✅ 옵션이 필요한 이유

- 커널은 절대 외부 라이브러리를 의존하지 않아야하므로

## 📌 `Wl,-Tkernel.ld`

👉 `Wl`

- 컴파일러가 링커에게 직접 옵션을 전달하라는 의미

`👉 Tkernel.ld`

- 커널의 메모리 배치를 지정한 링커 스크립트를 사용하라는 의미
